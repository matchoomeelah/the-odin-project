<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script type="text/javascript">
            const rockButton = document.createElement("button");
            const paperButton = document.createElement("button");
            const scissorsButton = document.createElement("button");

            rockButton.textContent = "Rock";
            paperButton.textContent = "Paper";
            scissorsButton.textContent = "Scissors";

            const body = document.querySelector("body");
            const buttons = [rockButton, paperButton, scissorsButton];


            const status = document.createElement("p");
            const scoreRoundDiv = document.createElement("div");
            const playerScoreDisplay = document.createElement("p");
            const computerScoreDisplay = document.createElement("p");
            const roundNumberDisplay = document.createElement("p");
            status.textContent = "Select choice to begin";
            playerScoreDisplay.textContent = "Player: 0";
            computerScoreDisplay.textContent = "Computer: 0";
            roundNumberDisplay.textContent = "Round: 1";

            let scoreRoundDisplays = [playerScoreDisplay, computerScoreDisplay, roundNumberDisplay];
                
            scoreRoundDisplays.forEach(d => {
                scoreRoundDiv.appendChild(d);
            });

            body.appendChild(scoreRoundDiv);
            body.appendChild(status);

            // Add buttons to DOM and add  click event listeners
            buttons.forEach((btn) => {
                body.appendChild(btn);
                btn.addEventListener("click", (e) => {
                    playRound(e.target.textContent.toLowerCase(), computerPlay());
                })
            });
            
            let playerScore = 0;
            let computerScore = 0;
            let roundNumber = 1;


            function computerPlay() {
                let randomNum = Math.floor(Math.random() * 3);
                if (randomNum < 1) {
                    return "rock";
                } else if (randomNum < 2) {
                    return "paper";
                } else {
                    return "scissors";
                }
            }

            function updateValues(currentPlayerScore, currentComputerScore, currentRound, currentStatus) {
                playerScoreDisplay.textContent = "Player: " + currentPlayerScore;
                computerScoreDisplay.textContent = "Computer: " + currentComputerScore;
                roundNumberDisplay.textContent = "Round: " + currentRound;
                status.textContent = currentStatus;
            }

            function playRound(playerSelection, computerSelection) {
                let newStatus = "Hmmm something went wrong. Try again.";
                if (playerSelection === "rock") {
                    switch (computerSelection) {
                        case "rock": 
                            newStatus = "Rocks clink together and rocks sink together. It's a draw. Replay round.";
                            break;
                        case "paper": 
                            computerScore++;
                            roundNumber++;
                            newStatus = "Paper covers Rock! Computer wins the round.";
                            break;
                        case "scissors": 
                            playerScore++;
                            roundNumber++;
                            newStatus = "Rock smashes Scissors! You win this round.";
                            break;
                        default: 
                            break;
                    }
                }
                else if (playerSelection === "paper") {
                    switch (computerSelection) {
                        case "paper": 
                            newStatus = "Paper on paper. What are you a book? It's a draw. Replay round.";
                            break;
                        case "rock": 
                            playerScore++;
                            roundNumber++;
                            newStatus = "Paper covers Rock! You win this round.";
                            break;
                        case "scissors": 
                            computerScore++;
                            roundNumber++;
                            newStatus = "Scissors slices through paper! Computer wins this round.";
                            break;
                        default: 
                            break;
                    }
                }
                else if (playerSelection === "scissors"){
                    switch (computerSelection) {
                        case "scissors": 
                            newStatus = "Don't just sit there scissoring. Gross. It's a draw. Replay round.";
                            break;
                        case "rock": 
                            computerScore++;
                            roundNumber++;
                            newStatus = "Rock smashes Scissors! Computer wins this round.";
                            break;
                        case "paper": 
                            playerScore++;
                            roundNumber++;
                            newStatus = "Scissors slices through paper! You win this round.";
                            break;
                        default: 
                            break;
                    }
                } 
                
                updateValues(playerScore, computerScore, roundNumber, newStatus);
            }



           // function game() {


                /*for (let i = 1; i <= 5; i++) {
                    let playerSelection = prompt(`Round ${i}! Let's play. Rock, Paper, or Scissors?`);
                    if (playerSelection !== null) {
                        playerSelection = playerSelection.toLowerCase();
                    }
                    let computerSelection = computerPlay();
                    if (playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") {
                        i--;
                        alert("I don't know that move... Please try again.");
                        continue;
                    }
                    let result = playRound(playerSelection, computerSelection);
                    if (result === -1) {
                        i--;
                        continue;
                    } else {
                        alert(`Score is Player: ${playerScore}  Computer: ${computerScore}`);
                    }
                }*/
            //}

            





            //game();
        </script>
        
    </body>
</html>